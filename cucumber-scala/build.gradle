plugins {
    id "org.jetbrains.intellij" version "0.4.18"
    id "scala"
}

group 'com.github.danielwegener'
version "${versions.idea}"

dependencies {
    compileOnly libs.scala
}

intellij {
    pluginName 'intellij-cucumber-scala'
    version "${versions.idea}"
    type "IC"

    plugins = [
            "java",
            "org.intellij.scala:${versions.scalaPlugin}",
            "gherkin:${versions.gherkin}",
            "cucumber-java:${versions.cucumber}"
    ]
    updateSinceUntilBuild false
}

publishPlugin {
    token findProperty("PUBLISH_TOKEN") ?: System.getenv("PUBLISH_TOKEN")
}